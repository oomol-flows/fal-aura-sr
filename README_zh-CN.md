# fal-aura-sr

使用先进的超分辨率技术进行 AI 驱动的图像增强,将低质量图像转换为清晰、高分辨率的结果。

[English Documentation](./README.md)

## 概述

fal-aura-sr 是一个 OOMOL 软件包,通过 fal-aura-sr AI 服务提供智能图像增强功能。无论您有模糊的照片、低分辨率图像,还是只是想提高视觉质量,这个软件包都为增强图像清晰度和细节提供了易于使用的解决方案。

该软件包可以无缝处理远程图像(通过 URL)和本地文件,自动处理上传、处理和下载工作流。

## 主要特性

- **AI 驱动的增强**:利用先进的超分辨率算法提高图像质量
- **灵活的输入**:支持远程图像 URL 和本地文件
- **自动处理**:内置轮询机制,自动等待处理完成
- **云端集成**:无缝上传本地文件并下载增强结果
- **易于使用**:简单的拖放工作流,快速增强图像
- **批量处理**:使用可重用的工作流处理多张图像

## 可用组件

### 任务块

#### 1. 图像清晰度增强 (Enhance Image Clarity)
**用途**:提交图像进行 AI 增强

此块接收图像 URL 并将其提交给增强服务。它返回一个会话 ID,您可以使用该 ID 跟踪处理状态。

**功能说明**:
- 接收可公开访问的图像 URL
- 将图像发送到 AI 增强服务
- 返回用于跟踪增强进度的会话 ID

**使用场景**:当您需要对增强过程进行精细控制或需要与自定义工作流集成时使用。

---

#### 2. 查询转换结果 (Query Conversion Result)
**用途**:检查增强状态并获取结果

此块检查增强任务的处理状态,并在准备就绪时检索增强后的图像 URL。它包含智能轮询功能,可自动等待完成。

**功能说明**:
- 使用会话 ID 查询增强任务的状态
- 自动轮询直到任务完成(可配置)
- 处理完成后返回增强后的图像 URL

**使用场景**:提交图像进行增强后,使用此功能获取最终结果。

---

### 子流程(即用型工作流)

#### 1. URL 图像增强 (URL Image Enhancement)
**用途**:一步完成远程 URL 图像增强

这是一个完整的即用型工作流,可处理远程图像的整个增强过程。

**功能说明**:
1. 接收图像 URL 作为输入
2. 提交进行 AI 增强
3. 自动等待处理完成
4. 返回增强后图像的 URL

**适用场景**:
- 增强网站上托管的图像
- 处理云存储中的图像
- 处理社交媒体图像
- 任何已有图像 URL 的场景

**使用案例示例**:您网站上有一批质量较低的产品照片。只需提供 URL,此工作流将自动增强它们。

---

#### 2. 本地图像增强 (Local Image Enhancement)
**用途**:一步完成本地图像增强

这是一个完整的即用型工作流,可处理本地图像从上传到下载的所有流程。

**功能说明**:
1. 接收本地图像文件作为输入
2. 将其上传到云存储
3. 提交进行 AI 增强
4. 自动等待处理完成
5. 将增强后的结果下载到您指定的位置

**适用场景**:
- 增强相机或手机拍摄的照片
- 批量处理本地图像集合
- 改善扫描文档或旧照片
- 任何本地机器上有图像的场景

**使用案例示例**:您有一个文件夹的旧家庭照片,这些照片模糊或褪色。选择每张图像,选择保存增强版本的位置,此工作流将自动处理其余部分。

---

## 使用方法

### 使用子流程(推荐大多数用户使用)

子流程是预构建的完整工作流,可为您处理一切。只需提供输入并获得增强结果。

#### 远程图像 (URL):
1. 打开 **"URL 图像增强"** 子流程
2. 提供图像 URL
3. 运行工作流
4. 接收增强后的图像 URL

#### 本地文件:
1. 打开 **"本地图像增强"** 子流程
2. 选择您的本地图像文件
3. 选择保存增强结果的位置(可选)
4. 运行工作流
5. 在保存的位置找到您增强后的图像

### 使用任务块(适用于高级用户)

如果您需要自定义工作流或与其他流程集成,可以使用单独的任务块:

1. 使用 **"图像清晰度增强"** 提交图像
2. 使用 **"查询转换结果"** 检查状态并检索结果
3. 根据需要将它们连接在一起或与其他块集成

## 技术详情

### API 集成
- **端点**: `https://fusion-api.oomol.com/v1/fal-aura-sr/`
- **认证**: 通过 OOMOL token 自动处理
- **处理**: 支持异步轮询

### 轮询配置
查询块包含可配置的轮询选项:
- **启用轮询**: 自动等待完成(默认:启用)
- **最大尝试次数**: 最大状态检查次数(默认:60)
- **间隔**: 检查之间的时间间隔(秒)(默认:5 秒)

### 依赖项
此软件包依赖于:
- **upload-to-cloud** (v0.0.5): 用于将本地文件上传到云存储
- **downloader** (v0.1.1): 用于下载增强后的图像

## 安装

此软件包通过 OOMOL 平台安装。无需手动安装。

### 依赖项
当您引导项目时,所有必需的依赖项都会自动安装:
```bash
npm install
poetry install --no-root
```

## 项目结构

```
fal-aura-sr/
├── tasks/
│   ├── enhance-image-clarity/      # 提交图像进行增强
│   └── query-conversion-result/    # 查询并检索结果
├── subflows/
│   ├── enhance-url-image/          # 远程图像的完整工作流
│   └── enhance-local-image/        # 本地文件的完整工作流
├── flows/
│   └── flow-1/                     # 示例/测试工作流
├── package.oo.yaml                 # 软件包配置
├── pyproject.toml                  # Python 依赖项
├── package.json                    # Node.js 依赖项
└── README.md                       # 英文文档
```

## 支持与反馈

如有关于此软件包的问题、疑问或反馈,请联系 OOMOL 支持团队或参阅 OOMOL 文档。

## 版本

当前版本:0.0.1

---

**使用 OOMOL 构建** - AI 工作流的可视化编程平台
